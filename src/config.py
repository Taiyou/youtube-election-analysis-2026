"""
設定ファイル - 第51回衆議院議員総選挙 YouTube分析
"""
import os
from pathlib import Path

from dotenv import load_dotenv

load_dotenv()

# === パス設定 ===
DATA_DIR = Path(__file__).parent.parent / "data"
RAW_DIR = DATA_DIR / "raw"
PROCESSED_DIR = DATA_DIR / "processed"

YOUTUBE_API_KEY = os.getenv("YOUTUBE_API_KEY")

# 選挙関連の検索キーワード
SEARCH_QUERIES = [
    "衆院選 2026",
    "衆議院選挙 2026",
    "高市早苗",
    "野田佳彦",
    "中道改革連合",
    "自民党 維新 連立",
    "消費税 減税 選挙",
    "物価高 対策 選挙",
    "衆院選 争点",
    "選挙 2月8日",
    "チームみらい 安野",
    "AI 政治 チームみらい",
]

# 主要政党・候補者のYouTubeチャンネルID（例）
# 実際のチャンネルIDに置き換えてください
PARTY_CHANNELS = {
    "自由民主党": "UCMKNg6-fy1oJVGakFSsFB7w",
    "日本維新の会": "UCkqlZnKIjLFGMN63ePbrecA",
    "立憲民主党": "UCPhMOR4VGbSvMGmqXPBSiqA",
    "国民民主党": "UCRoamnEPf3JdxTJBhgiMxkQ",
    "日本共産党": "UCY6DTN32PWbVqNMbJOEM1CA",
    "れいわ新選組": "UCgIIlSmbdJ7gQqfby8SO53g",
    "参政党": "UCCPjnIHKaBmSMbOKaHvYMqw",
    "チームみらい": "UC_placeholder_team_mirai",  # 安野たかひろ公式チャンネル
}

# 争点キーワード
ISSUE_KEYWORDS = {
    "消費税・物価高": ["消費税", "物価高", "減税", "食料品", "インフレ"],
    "安全保障": ["安全保障", "防衛", "台湾", "中国", "安保"],
    "移民・外国人": ["移民", "外国人", "技能実習", "入管"],
    "経済政策": ["経済", "賃上げ", "成長戦略", "金融政策"],
    "社会保障": ["年金", "医療", "介護", "少子化", "子育て"],
    "政治改革": ["政治改革", "政治とカネ", "裏金", "政治資金"],
}

# データ収集期間
DATE_RANGE = {
    "start": "2026-01-01T00:00:00Z",  # 選挙前の動向
    "end": "2026-02-08T23:59:59Z",     # 投票日まで
}

# API設定
MAX_RESULTS_PER_QUERY = 50

# === 公明党・その他の固定配分比率 ===
KOMEITO_SMD_RATIO = 0.40   # 公明党の小選挙区比率
KOMEITO_PR_RATIO = 0.60    # 公明党の比例代表比率
OTHERS_SMD_RATIO = 0.90    # その他の小選挙区比率
OTHERS_PR_RATIO = 0.10     # その他の比例代表比率

# === 感情分析辞書（強度付き） ===
# 強度: 1.0=標準, 1.5=強い, 2.0=非常に強い
SENTIMENT_POSITIVE_WORDS = {
    # 支持・賛同系
    "賛成": 1.0, "支持": 1.0, "応援": 1.0, "共感": 1.0, "納得": 1.0,
    "賛同": 1.0, "同意": 1.0, "理解": 0.8,
    # 評価系
    "素晴らしい": 1.5, "最高": 1.5, "良い": 1.0, "いいね": 0.8,
    "正しい": 1.0, "的確": 1.0, "見事": 1.5, "優秀": 1.2,
    "立派": 1.2, "適切": 1.0, "合理的": 1.0,
    # 感謝・称賛系
    "ありがとう": 0.8, "感謝": 1.0, "感動": 1.5, "尊敬": 1.5,
    "さすが": 1.2, "すごい": 1.2, "よくやった": 1.2,
    # 期待系
    "頑張": 1.0, "期待": 1.0, "楽しみ": 0.8, "実現": 1.0,
    "希望": 1.0, "前進": 1.0, "改善": 0.8, "進歩": 1.0,
    # 投票意向系
    "投票する": 1.5, "一票": 1.2, "信頼": 1.2, "任せ": 1.0,
    "頼もしい": 1.2, "安心": 1.0, "説得力": 1.2,
    # 政策評価系
    "具体的": 1.0, "現実的": 1.0, "効果的": 1.0, "画期的": 1.5,
    "革新的": 1.2, "建設的": 1.0, "有意義": 1.0,
}

SENTIMENT_NEGATIVE_WORDS = {
    # 反対・批判系
    "反対": 1.0, "批判": 1.0, "ダメ": 1.0, "問題": 0.8, "疑問": 0.8,
    "不信": 1.2, "不満": 1.0, "不安": 0.8, "不審": 1.0,
    # 強い否定系
    "最悪": 2.0, "嘘": 1.5, "失望": 1.5, "怒り": 1.5,
    "ひどい": 1.5, "酷い": 1.5, "許せない": 2.0, "ありえない": 1.5,
    "ふざけるな": 2.0, "いい加減": 1.5,
    # 要求・命令系
    "辞めろ": 2.0, "無理": 1.0, "やめて": 1.5, "撤回": 1.2,
    "責任": 0.8, "説明しろ": 1.5,
    # 不信・懐疑系
    "信用できない": 1.5, "裏切り": 2.0, "矛盾": 1.0, "欺瞞": 1.5,
    "茶番": 1.5, "パフォーマンス": 0.8, "口だけ": 1.5,
    "無能": 2.0, "無責任": 1.5, "税金泥棒": 2.0,
    # 政策批判系
    "非現実的": 1.0, "増税": 1.0, "改悪": 1.5, "後退": 1.0,
    "無策": 1.5, "失敗": 1.0, "破綻": 1.5, "崩壊": 1.5,
    "利権": 1.2, "癒着": 1.2, "腐敗": 1.5,
}

# 否定表現パターン（これらが感情語の前にあるとスコアを反転）
NEGATION_PATTERNS = [
    "ない", "ません", "ず", "ぬ", "ではない", "じゃない",
    "とは思わない", "とは言えない", "できない",
]

# === 共有定数（全ダッシュボード共通） ===

PARTY_COLORS = {
    "自由民主党": "#E3242B",
    "日本維新の会": "#3CB371",
    "立憲民主党": "#1E90FF",
    "国民民主党": "#FF8C00",
    "日本共産党": "#DC143C",
    "れいわ新選組": "#FF69B4",
    "参政党": "#DAA520",
    "公明党": "#F5A623",
    "チームみらい": "#00BCD4",
    "中道改革連合": "#1E90FF",
    "無所属": "#999999",
    "その他": "#999999",
    "支持なし": "#CCCCCC",
}

SENTIMENT_COLORS = {
    "positive": "#2ECC71",
    "neutral": "#95A5A6",
    "negative": "#E74C3C",
}

SENTIMENT_LABELS = {
    "positive": "ポジティブ",
    "neutral": "ニュートラル",
    "negative": "ネガティブ",
}

SOURCE_TYPE_COLORS = {
    "全国紙": "#1E90FF",
    "公共放送": "#2ECC71",
    "通信社": "#9B59B6",
    "Webメディア": "#E74C3C",
    "ビジネスメディア": "#FF8C00",
}

# YouTubeダッシュボード用モデルラベル
MODEL_LABELS = {
    "baseline": "世論調査ベースライン",
    "model1": "YouTube指標モデル",
    "model2": "感情分析加重モデル",
    "model3": "世論調査+YTモデル",
    "model4": "アンサンブル予測",
}

MODEL_COLORS = {
    "baseline": "#888888",
    "model1": "#4169E1",
    "model2": "#2ECC71",
    "model3": "#E74C3C",
    "model4": "#9B59B6",
}

# サマリーダッシュボード用全モデルラベル
ALL_MODEL_LABELS = {
    "baseline": "世論調査ベースライン",
    "model1": "YT エンゲージメント",
    "model2": "YT 感情分析加重",
    "model3": "YT 世論調査+勢い",
    "model4": "YT アンサンブル",
    "model5": "ニュース記事モデル",
    "model6": "統合アンサンブル",
    "model7": "選挙区ボトムアップ",
}

ALL_MODEL_COLORS = {
    "baseline": "#888888",
    "model1": "#4169E1",
    "model2": "#2ECC71",
    "model3": "#E74C3C",
    "model4": "#9B59B6",
    "model5": "#FF8C00",
    "model6": "#1a1a2e",
    "model7": "#00897B",
}

# 比例代表ブロック（議席数）
PR_BLOCKS = {
    "北海道": 8, "東北": 13, "北関東": 19, "南関東": 22,
    "東京": 17, "北陸信越": 11, "東海": 21, "近畿": 28,
    "中国": 11, "四国": 6, "九州": 20,
}

# 比例ブロック（都道府県コードリスト版）
PR_BLOCK_PREFECTURES = {
    "北海道": [1],
    "東北": [2, 3, 4, 5, 6, 7],
    "北関東": [8, 9, 10, 11],
    "南関東": [12, 14, 19],
    "東京": [13],
    "北陸信越": [15, 16, 17, 18, 20],
    "東海": [21, 22, 23, 24],
    "近畿": [25, 26, 27, 28, 29, 30],
    "中国": [31, 32, 33, 34, 35],
    "四国": [36, 37, 38, 39],
    "九州": [40, 41, 42, 43, 44, 45, 46, 47],
}

# === 選挙区・地域定数 ===

# 都道府県コード → (名前, 小選挙区数)  合計289区
PREFECTURE_DISTRICTS = {
    1: ("北海道", 12), 2: ("青森県", 3), 3: ("岩手県", 3), 4: ("宮城県", 6),
    5: ("秋田県", 3), 6: ("山形県", 3), 7: ("福島県", 5),
    8: ("茨城県", 7), 9: ("栃木県", 5), 10: ("群馬県", 5),
    11: ("埼玉県", 15), 12: ("千葉県", 13), 13: ("東京都", 25), 14: ("神奈川県", 17),
    15: ("新潟県", 6), 16: ("富山県", 3), 17: ("石川県", 3), 18: ("福井県", 2),
    19: ("山梨県", 2), 20: ("長野県", 5), 21: ("岐阜県", 5),
    22: ("静岡県", 8), 23: ("愛知県", 15), 24: ("三重県", 5),
    25: ("滋賀県", 4), 26: ("京都府", 6), 27: ("大阪府", 19), 28: ("兵庫県", 12),
    29: ("奈良県", 4), 30: ("和歌山県", 3),
    31: ("鳥取県", 2), 32: ("島根県", 2), 33: ("岡山県", 5),
    34: ("広島県", 7), 35: ("山口県", 4),
    36: ("徳島県", 2), 37: ("香川県", 3), 38: ("愛媛県", 4), 39: ("高知県", 2),
    40: ("福岡県", 11), 41: ("佐賀県", 2), 42: ("長崎県", 3),
    43: ("熊本県", 5), 44: ("大分県", 3), 45: ("宮崎県", 3),
    46: ("鹿児島県", 4), 47: ("沖縄県", 3),
}

# 地域別政党強度プロファイル
REGIONAL_PARTY_STRENGTH = {
    "rural_ldp": {
        "自由民主党": 0.60, "立憲民主党": 0.15, "日本維新の会": 0.05,
        "国民民主党": 0.05, "公明党": 0.05, "日本共産党": 0.02,
        "れいわ新選組": 0.02, "参政党": 0.02, "チームみらい": 0.01, "無所属": 0.03,
    },
    "urban_kanto": {
        "自由民主党": 0.30, "立憲民主党": 0.28, "日本維新の会": 0.10,
        "国民民主党": 0.10, "公明党": 0.05, "日本共産党": 0.04,
        "れいわ新選組": 0.04, "参政党": 0.02, "チームみらい": 0.05, "無所属": 0.02,
    },
    "kansai": {
        "自由民主党": 0.20, "立憲民主党": 0.12, "日本維新の会": 0.45,
        "国民民主党": 0.05, "公明党": 0.06, "日本共産党": 0.03,
        "れいわ新選組": 0.03, "参政党": 0.02, "チームみらい": 0.02, "無所属": 0.02,
    },
    "hokkaido": {
        "自由民主党": 0.40, "立憲民主党": 0.30, "日本維新の会": 0.05,
        "国民民主党": 0.08, "公明党": 0.05, "日本共産党": 0.04,
        "れいわ新選組": 0.03, "参政党": 0.02, "チームみらい": 0.01, "無所属": 0.02,
    },
}

# 都道府県 → 地域タイプ
PREFECTURE_REGION_TYPE = {
    1: "hokkaido",
    2: "rural_ldp", 3: "rural_ldp", 4: "urban_kanto", 5: "rural_ldp",
    6: "rural_ldp", 7: "rural_ldp",
    8: "urban_kanto", 9: "urban_kanto", 10: "urban_kanto",
    11: "urban_kanto", 12: "urban_kanto", 13: "urban_kanto", 14: "urban_kanto",
    15: "rural_ldp", 16: "rural_ldp", 17: "rural_ldp", 18: "rural_ldp",
    19: "rural_ldp", 20: "rural_ldp", 21: "rural_ldp",
    22: "urban_kanto", 23: "urban_kanto", 24: "rural_ldp",
    25: "kansai", 26: "kansai", 27: "kansai", 28: "kansai",
    29: "kansai", 30: "kansai",
    31: "rural_ldp", 32: "rural_ldp", 33: "rural_ldp",
    34: "rural_ldp", 35: "rural_ldp",
    36: "rural_ldp", 37: "rural_ldp", 38: "rural_ldp", 39: "rural_ldp",
    40: "urban_kanto", 41: "rural_ldp", 42: "rural_ldp",
    43: "rural_ldp", 44: "rural_ldp", 45: "rural_ldp",
    46: "rural_ldp", 47: "rural_ldp",
}
